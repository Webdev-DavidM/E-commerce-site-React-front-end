(this["webpackJsonpfront-end"]=this["webpackJsonpfront-end"]||[]).push([[13],{112:function(e,t,a){e.exports={editproductcontainer:"AdminEditProduct_editproductcontainer__-7HGn",viewproductbtn:"AdminEditProduct_viewproductbtn__1keID",editproductbtn:"AdminEditProduct_editproductbtn__X-IQt",productmodal:"AdminEditProduct_productmodal__1_gN0",product:"AdminEditProduct_product__1Xq2H",productbtn:"AdminEditProduct_productbtn__2owQS",sizeinput:"AdminEditProduct_sizeinput__MsJWt",smallcontainer:"AdminEditProduct_smallcontainer__2CSn-",sizecontainer:"AdminEditProduct_sizecontainer__2oFZw",submitbtn:"AdminEditProduct_submitbtn__1qqvg",uploadbtn:"AdminEditProduct_uploadbtn__2HCNA",editformcontainer:"AdminEditProduct_editformcontainer___iEOK",gobackbtn:"AdminEditProduct_gobackbtn__1XhHE",dropdown:"AdminEditProduct_dropdown__-Rqya",imagecontainer:"AdminEditProduct_imagecontainer__1Zpxi",imagebtn:"AdminEditProduct_imagebtn__1uc10",imagehover:"AdminEditProduct_imagehover__2766O",error:"AdminEditProduct_error__1bF4x"}},148:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a(35),s=a(32),c=a(17),o=a(18),i=a(20),u=a(19),l=a(1),d=a(7),p=a(12),b=a(11),m=a(112),h=a.n(m),j=a(10),g=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).handleSubmit=function(e){r.setState({errors:[]}),e.preventDefault();var t=r.props,a=t.createNewProduct,n=t.user,c=new FormData;r.setState({errors:[]});var o=!0;(""===r.state.name&&(r.setState((function(e){return{errors:[].concat(Object(s.a)(e.errors),["Please provide a value for name"])}})),o=!1),""!==r.state.small&&Number.isInteger(parseInt(r.state.small))||(r.setState((function(e){return{errors:[].concat(Object(s.a)(e.errors),["Please provide a value for small"])}})),o=!1),""!==r.state.medium&&Number.isInteger(parseInt(r.state.medium))||(r.setState((function(e){return{errors:[].concat(Object(s.a)(e.errors),["Please provide a value for medium"])}})),o=!1),""!==r.state.large&&Number.isInteger(parseInt(r.state.large))||(r.setState((function(e){return{errors:[].concat(Object(s.a)(e.errors),["Please provide a value for large"])}})),o=!1),""===r.state.colour&&(r.setState((function(e){return{errors:[].concat(Object(s.a)(e.errors),["Please provide a value for colour"])}})),o=!1),0!==r.state.price&&Number.isInteger(parseInt(r.state.price))||(r.setState((function(e){return{errors:[].concat(Object(s.a)(e.errors),["Please provide a value for price"])}})),o=!1),0===r.state.imagesArrayForMulter.length&&(r.setState((function(e){return{errors:[].concat(Object(s.a)(e.errors),["Please provide at least one image"])}})),o=!1),""===r.state.brand&&(r.setState((function(e){return{errors:[].concat(Object(s.a)(e.errors),["Please provide a value for brand"])}})),o=!1),0!==r.state.stock&&Number.isInteger(parseInt(r.state.price))||(r.setState((function(e){return{errors:[].concat(Object(s.a)(e.errors),["Please provide a value for stock"])}})),o=!1),""===r.state.category&&(r.setState((function(e){return{errors:[].concat(Object(s.a)(e.errors),["Please provide a value for category"])}})),o=!1),""===r.state.description&&(r.setState((function(e){return{errors:[].concat(Object(s.a)(e.errors),["Please provide a value for description"])}})),o=!1),""===r.state.chosenSubCat&&r.setState((function(e){return{errors:[].concat(Object(s.a)(e.errors),["Please provide a value for subcategory"])}})),o)&&(r.state.imagesArrayForMulter.forEach((function(e){return c.append("images",e)})),c.append("name",r.state.name),c.append("price",r.state.price),c.append("description",r.state.description),c.append("reviews",[]),c.append("category",r.state.category),c.append("subcategory",r.state.chosenSubCat),c.append("colour",r.state.colour),c.append("small",r.state.small),c.append("large",r.state.large),c.append("medium",r.state.medium),c.append("brand",r.state.brand),a({formData:c,admin:{email:n.email,token:n.token}}))},r.reset=function(){r.setState(r.initialState),r.props.history.push("/admin/create"),r.props.closeModal()},r.viewProduct=function(){r.props.history.push("/product/".concat(r.props.createdProductId)),r.props.closeModal()},r.removeImage=function(e){var t=Object(s.a)(r.state.imagesToDisplay),a=Object(s.a)(r.state.imagesArrayForMulter);t.splice(e,1),a.splice(e,1),r.setState({imagesToDisplay:t,imagesArrayForMulter:a})},r.updateCat=function(e){if("blank"!==e.target.value){var t=Object.keys(r.props.categories[e.target.value]),a=[];t.forEach((function(t){return[r.props.categories[e.target.value][t].forEach((function(e){return a.push(e)}))]})),console.log(a),r.setState({category:e.target.value,subcategory:a})}},r.updateSubCat=function(e){r.setState({chosenSubCat:e.target.value})},r.handleChange=function(e){if(e.target.files){r.setState({imagesArrayForMulter:[].concat(Object(s.a)(r.state.imagesArrayForMulter),[e.target.files[0]])});var t=new FileReader;t.onload=function(){r.setState({imagesToDisplay:r.state.imagesToDisplay.concat(t.result)})},t.readAsDataURL(e.target.files[0])}else r.setState(Object(n.a)({},e.target.name,e.target.value))},r.state={name:"",price:"",imagesToDisplay:[],imagesArrayForMulter:[],brand:"",small:"",medium:"",large:"",category:"",subcategory:[],chosenSubCat:"",description:"",errors:[],colour:"",showModal:!1},r.initialState=r.state,r}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.props.categories,a=this.props.productCreated,n=Object.keys(t).map((function(e){return Object(r.jsx)("option",{name:"category",value:e,children:e})}));return n.unshift(Object(r.jsxs)("option",{selected:!0,value:"blank",children:["-- select an option --"," "]})),console.log(n),Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("div",{className:h.a.editproductcontainer,children:[a&&Object(r.jsx)("div",{className:h.a.productmodal,children:Object(r.jsxs)("div",{className:h.a.product,children:[Object(r.jsxs)("h2",{style:{textAlign:"center",color:"rgba(44, 62, 80,1.0)"},children:[" ",Object(r.jsx)("i",{className:"fas fa-check"}),"\xa0Product created! Would you like to"," "]}),Object(r.jsx)("button",{class:h.a.productbtn,onClick:function(){return e.viewProduct()},className:h.a.continueshoppingbtn,children:"View the product in our store"}),Object(r.jsx)("button",{class:h.a.productbtn,onClick:function(){return e.reset()},className:h.a.continueshoppingbtn,children:"Create another product"})]})}),Object(r.jsx)("h4",{children:Object(r.jsxs)("button",{class:h.a.gobackbtn,children:[Object(r.jsx)(d.b,{style:{color:"#ecf0f1"},to:"/admin",children:"Go back"})," "]})}),Object(r.jsx)("h2",{children:"CREATE PRODUCT"}),Object(r.jsxs)("div",{className:h.a.editformcontainer,children:[Object(r.jsxs)("form",{onSubmit:this.handleSubmit,encType:"multipart/form-data",children:[Object(r.jsxs)("label",{children:["Name:",Object(r.jsx)("input",{name:"name",value:this.state.name,onChange:function(t){return e.handleChange(t)}})]}),Object(r.jsxs)("label",{children:["Price",Object(r.jsx)("input",{type:"text",name:"price",value:this.state.price,onChange:function(t){return e.handleChange(t)}})]}),"Please upload the images below",Object(r.jsxs)("label",{for:"uploadbtn",class:h.a.uploadbtn,children:[" ","Upload Images"]}),Object(r.jsx)("input",{style:{display:"none"},onChange:function(t){return e.handleChange(t)},id:"uploadbtn",type:"file",accept:".jpg, .png,.jpeg",multiple:""}),Object(r.jsx)("div",{class:h.a.imagecontainer,children:this.state.imagesToDisplay.map((function(t,a){return Object(r.jsxs)("div",{onClick:function(){return e.removeImage(a)},className:h.a.imagebtn,children:[Object(r.jsx)("div",{class:h.a.imagehover,children:"X"}),Object(r.jsx)("img",{style:{height:"4rem",width:"6rem",padding:"0 0.5rem"},src:t,alt:""})]})}))}),Object(r.jsxs)("label",{children:["Brand",Object(r.jsx)("input",{type:"text",name:"brand",value:this.state.brand,onChange:function(t){return e.handleChange(t)}})]}),Object(r.jsxs)("label",{children:["Colour",Object(r.jsx)("input",{type:"text",name:"colour",value:this.state.colour,onChange:function(t){return e.handleChange(t)}})]}),Object(r.jsxs)("label",{children:["Stock :",""!==this.state.small&&""!==this.state.medium&&""!==this.state.large?parseInt(this.state.small)+parseInt(this.state.medium)+parseInt(this.state.large):null,Object(r.jsx)("br",{}),"Please enter amounts in each size below",Object(r.jsx)("div",{class:h.a.sizecontainer,children:Object(r.jsxs)("div",{class:h.a.smallcontainer,children:[Object(r.jsx)("span",{children:" Small "}),Object(r.jsx)("input",{class:h.a.sizeinput,type:"text",name:"small",value:this.state.small,onChange:function(t){return e.handleChange(t)}}),Object(r.jsx)("span",{children:" Medium"}),Object(r.jsx)("input",{class:h.a.sizeinput,type:"text",name:"medium",value:this.state.medium,onChange:function(t){return e.handleChange(t)}}),Object(r.jsx)("span",{children:" Large "}),Object(r.jsx)("input",{class:h.a.sizeinput,type:"text",name:"large",value:this.state.large,onChange:function(t){return e.handleChange(t)}})]})})]}),Object(r.jsxs)("label",{children:["Category",Object(r.jsx)("br",{}),Object(r.jsx)("select",{class:h.a.dropdown,value:this.state.category,onChange:function(t){return e.updateCat(t)},children:n})]}),Object(r.jsxs)("label",{children:["Subcategory",Object(r.jsx)("br",{}),Object(r.jsxs)("select",{class:h.a.dropdown,disabled:0===this.state.subcategory.length,value:this.state.chosenSubCat,onChange:function(t){return e.updateSubCat(t)},children:[Object(r.jsx)("option",{value:"blank",children:"-- select an option -- "}),this.state.subcategory.map((function(e){return Object(r.jsx)("option",{name:"subcategory",value:e,children:e})}))]})]}),Object(r.jsxs)("label",{children:["Description",Object(r.jsx)("input",{type:"text",name:"description",value:this.state.description,onChange:function(t){return e.handleChange(t)}})]}),Object(r.jsx)("input",{class:h.a.submitbtn,type:"submit",value:"Submit"})]}),this.state.errors&&this.state.errors.map((function(e){return Object(r.jsx)("p",{className:h.a.error,children:e})}))]})]})})}}]),a}(l.Component);t.default=Object(b.g)(Object(p.b)((function(e){return{categories:e.products.categories,user:e.user.user,productCreated:e.products.productCreatedModal,createdProductId:e.products.latestCreatedProductId}}),(function(e){return{createNewProduct:function(t){return e(Object(j.i)(t))},closeModal:function(){return e(Object(j.g)())}}}))(g))}}]);
//# sourceMappingURL=13.93e51bb9.chunk.js.map