{"version":3,"sources":["Pages/Product.module.css","Components/UIelements/ProductImageCarousel.module.css","Components/UIelements/Reviews.module.css","Components/UIelements/ProductImageCarousel.js","Components/UIelements/Reviews.js","Pages/Product.js"],"names":["module","exports","ProductImageCarousel","state","productId","selectedImage","moveImageByArrow","direction","setState","prevState","props","product","images","length","moveImagesByDot","index","this","imageButtons","map","image","className","styles","dot","onClick","style","backgroundColor","imageGallery","border","src","alt","slideshowcontainer","myslides","fade","disabled","prev","next","textAlign","query","render","imagegallery","Component","withRouter","connect","products","selectedProduct","Reviews","showReviews","averageReviewRating","stars","componentDidMount","reviews","averageRating","reduce","a","b","rating","reviewcontainer","star","colour","color","icon","faStar","CSSTransition","in","timeout","classNames","unmountOnExit","review","reviewdivider","firstName","comment","Product","size","showBasketModal","dropdownSelected","quantity","error","selectSize","e","target","value","selectQuantity","operator","continueShopping","addToBasket","addProductToBasket","price","_id","name","qtyOfSizeInStock","id","localStorageKey","basket","componentDidUpdate","newProps","location","pathname","match","url","getProductFromServer","history","split","params","componentWillUnmount","clearProduct","dropdown","sizeKeys","Object","keys","key","basketmodal","continueshoppingbtn","checkoutbtn","textDecoration","to","gobackbtn","goBack","productinfo","column1","sizecontainer","qtybtn1","onChange","quantityinput","type","qtybtn2","stock","addtocartbtn","width","height","column2","description","dispatch","itemInfo","getProduct","clearSelectedProduct"],"mappings":"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","file":"static/js/5.84eb14bb.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"product\":\"Product_product__Pic6D\",\"title\":\"Product_title__2Vhmj\",\"price\":\"Product_price__pibV3\",\"quantityinput\":\"Product_quantityinput__3EkPH\",\"basketmodal\":\"Product_basketmodal__L9uv6\",\"basket\":\"Product_basket__3PI_-\",\"error\":\"Product_error__37_GV\",\"productinfo\":\"Product_productinfo__3vfDt\",\"continueshoppingbtn\":\"Product_continueshoppingbtn__1GdCm\",\"checkoutbtn\":\"Product_checkoutbtn__2axGv\",\"sizecontainer\":\"Product_sizecontainer__3mrmO\",\"qtybtn1\":\"Product_qtybtn1__2mBnT\",\"qtybtn2\":\"Product_qtybtn2__2Q_FQ\",\"gobackbtn\":\"Product_gobackbtn__leJnS\",\"qtybtn\":\"Product_qtybtn__1guil\",\"addtocartbtn\":\"Product_addtocartbtn__3MjGk\",\"column2\":\"Product_column2__3W6fM\",\"column1\":\"Product_column1__23wUu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"next\":\"ProductImageCarousel_next__1IO8X\",\"myslides\":\"ProductImageCarousel_myslides__31_Lb\",\"slideshowcontainer\":\"ProductImageCarousel_slideshowcontainer__3ZdOu\",\"prev\":\"ProductImageCarousel_prev__ph80r\",\"dot\":\"ProductImageCarousel_dot__3Wn3r\",\"active\":\"ProductImageCarousel_active__8fR8P\",\"imagegallery\":\"ProductImageCarousel_imagegallery__wkSu4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"reviewcontainer\":\"Reviews_reviewcontainer__2hUWQ\",\"reviewdivider\":\"Reviews_reviewdivider__3p2YE\"};","/* NPM packages */\nimport React, { Component } from 'react';\nimport Media from 'react-media';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\n\n/* CSS */\n\nimport styles from './ProductImageCarousel.module.css';\n\nclass ProductImageCarousel extends Component {\n  state = {\n    productId: '',\n    selectedImage: 0,\n  };\n\n  moveImageByArrow = (direction) => {\n    if (direction === 'left' && this.state.selectedImage !== 0) {\n      return this.setState((prevState) => ({\n        selectedImage: prevState.selectedImage - 1,\n      }));\n    } else if (\n      direction === 'right' &&\n      this.state.selectedImage !== this.props.product.images.length - 1\n    ) {\n      return this.setState((prevState) => ({\n        selectedImage: prevState.selectedImage + 1,\n      }));\n    }\n  };\n\n  moveImagesByDot = (index) => {\n    this.setState((prevState) => ({\n      selectedImage: index,\n    }));\n  };\n\n  render() {\n    let { images } = this.props.product;\n\n    let imageButtons = images.map((image, index) => (\n      <span\n        key={index}\n        className={styles.dot}\n        onClick={() => this.moveImagesByDot(index)}\n        style={\n          index === this.state.selectedImage\n            ? { backgroundColor: '#f1c40f' }\n            : null\n        }></span>\n    ));\n\n    let imageGallery = images.map((image, index) => (\n      <span\n        key={index}\n        onClick={() => this.moveImagesByDot(index)}\n        style={\n          index === this.state.selectedImage\n            ? { border: '3px solid #f1c40f' }\n            : null\n        }>\n        <img\n          src={`https://my-ecommerce-site-fitness.herokuapp.com/${image}`}\n          alt={'hello'}></img>\n      </span>\n    ));\n\n    return (\n      <>\n        <div className={styles.slideshowcontainer}>\n          <div className={`${styles.myslides} ${styles.fade}`}>\n            <button\n              disabled={this.state.selectedImage === 0}\n              className={styles.prev}\n              onClick={() => this.moveImageByArrow('left')}>\n              <i className='fas fa-angle-left'></i>\n            </button>\n            <img\n              src={`https://my-ecommerce-site-fitness.herokuapp.com/${\n                images[this.state.selectedImage]\n              }`}\n              alt={'hello'}></img>\n            <button\n              className={styles.next}\n              onClick={() => this.moveImageByArrow('right')}>\n              <i className='fas fa-angle-right'></i>\n            </button>\n          </div>\n        </div>\n        <br></br>\n        <div style={{ textAlign: 'center' }}>\n          {' '}\n          <i className='fas fa-angle-left'></i> &nbsp;\n          {this.state.selectedImage + 1} &nbsp; / &nbsp; {images.length} &nbsp;\n          <i className='fas fa-angle-right'></i>\n        </div>\n        <Media\n          query={'(max-width: 768px)'}\n          render={() => (\n            <div style={{ textAlign: 'center' }}>{imageButtons}</div>\n          )}\n        />\n        <Media\n          query={'(min-width: 768px)'}\n          render={() => (\n            <div\n              className={styles.imagegallery}\n              style={{ textAlign: 'center' }}>\n              {imageGallery}\n            </div>\n          )}\n        />\n      </>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    product: state.products.selectedProduct,\n  };\n};\n\nexport default withRouter(connect(mapStateToProps)(ProductImageCarousel));\n","/* NPM packages */\n\nimport React, { Component } from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { CSSTransition } from 'react-transition-group';\nimport { faStar } from '@fortawesome/free-solid-svg-icons';\n\n/* CSS */\n\nimport styles from './Reviews.module.css';\n\nclass Reviews extends Component {\n  state = {\n    showReviews: false,\n    averageReviewRating: null,\n    stars: [1, 2, 3, 4, 5],\n  };\n\n  componentDidMount = () => {\n    let { reviews } = this.props;\n\n    let averageRating =\n      reviews.length > 0\n        ? reviews.reduce((a, b) => {\n            return a + b.rating;\n          }, 0) / reviews.length\n        : 0;\n    this.setState({ averageReviewRating: averageRating });\n  };\n\n  render() {\n    let { reviews } = this.props;\n\n    return (\n      <div\n        className={styles.reviewcontainer}\n        onClick={() =>\n          this.setState((prevState) => ({\n            showReviews: !prevState.showReviews,\n          }))\n        }>\n        {this.state.averageReviewRating &&\n          this.state.stars.map((star, index) => {\n            let colour =\n              star <= this.state.averageReviewRating ? '#f1c40f' : null;\n            return (\n              <span key={`star${star}`} style={{ color: `${colour}` }}>\n                <FontAwesomeIcon icon={faStar} />\n              </span>\n            );\n          })}\n        &nbsp; ({reviews.length})<span>&nbsp;Click for review details</span>\n        {reviews.length === 0 && (\n          <span>(0) Be the first to review this product</span>\n        )}\n        <CSSTransition\n          in={this.state.showReviews}\n          timeout={400}\n          classNames='reviews'\n          unmountOnExit>\n          <div>\n            {reviews.map((review, index) => {\n              let stars = this.state.stars.map((star, index) => {\n                let colour = star <= review.rating ? '#f1c40f' : null;\n                return (\n                  <span key={`review${index}`} style={{ color: `${colour}` }}>\n                    <FontAwesomeIcon icon={faStar} />\n                  </span>\n                );\n              });\n              return (\n                <div key={`reviewer${index}`}>\n                  <hr className={styles.reviewdivider} />\n                  {stars} by {review.firstName}\n                  <br />\n                  {review.comment}\n                </div>\n              );\n            })}\n          </div>\n        </CSSTransition>\n      </div>\n    );\n  }\n}\n\nexport default Reviews;\n","/* NPM packages */\n\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\n\n/* css */\n\nimport styles from './Product.module.css';\n\n/* Components */\n\nimport ProductImageCarousel from '../Components/UIelements/ProductImageCarousel';\nimport Reviews from '../Components/UIelements/Reviews';\n\n/* Action creators */\n\nimport {\n  addToBasket,\n  getProduct,\n  clearSelectedProduct,\n} from '../Actions/products';\n\nclass Product extends Component {\n  state = {\n    size: '',\n    showBasketModal: false,\n    dropdownSelected: false,\n    quantity: 0,\n    error: '',\n  };\n\n  selectSize = (e) => {\n    this.setState({ size: e.target.value, error: '' });\n  };\n\n  selectQuantity = (operator) => {\n    let { product } = this.props;\n    if (this.state.size === '') {\n      return this.setState({ error: 'Please select a size first' });\n    }\n    if (operator === '-') {\n      if (this.state.quantity !== 0) {\n        this.setState((prevState) => ({\n          quantity: prevState.quantity - 1,\n          error: '',\n        }));\n      }\n    }\n    if (operator === '+' && this.state.size !== 0) {\n      if (this.state.quantity < product.size[0][this.state.size]) {\n        this.setState((prevState) => ({\n          quantity: prevState.quantity + 1,\n        }));\n      } else {\n        this.setState({\n          error: `Maximum quantity in ${this.state.size} selected`,\n        });\n      }\n    }\n  };\n\n  continueShopping = () => {\n    this.setState({ showBasketModal: false });\n  };\n\n  addToBasket = () => {\n    /* Destructuring action creators */\n    let { addProductToBasket } = this.props;\n\n    /* Destructuring state from redux */\n    let { images, price, _id, name } = this.props.product;\n\n    if (this.state.size !== '' && this.state.quantity !== 0) {\n      let itemInfo = {\n        size: this.state.size,\n        qtyOfSizeInStock: this.props.product.size[0][this.state.size],\n        quantity: this.state.quantity,\n        name: name,\n        id: _id,\n        price: price,\n        images: images,\n        localStorageKey: this.props.basket.length,\n      };\n      addProductToBasket(itemInfo);\n      this.setState({ showBasketModal: true });\n    } else {\n      this.setState({ error: 'Please select a size and quantity' });\n    }\n  };\n\n  componentDidUpdate = (newProps) => {\n    // i have used component did mount because if the user searches for a product and clicks on it and the screen is\n    // already on a product, the router will not re render, to make this happen I am using this lifecycle method to\n    // check if the product id has changed and if so get the new product\n    if (newProps.location.pathname !== this.props.match.url) {\n      let { getProductFromServer } = this.props;\n      let id = newProps.history.location.pathname.split('/')[2];\n      getProductFromServer(id);\n    }\n  };\n\n  componentDidMount = () => {\n    let { getProductFromServer } = this.props;\n    let { id } = this.props.match.params;\n    getProductFromServer(id);\n  };\n\n  componentWillUnmount = () => {\n    this.props.clearProduct();\n  };\n\n  render() {\n    let { product } = this.props;\n\n    let { showBasketModal } = this.state;\n\n    let dropdown = null;\n\n    if (product.length !== 0) {\n      let sizeKeys = Object.keys(product.size[0]);\n      dropdown = (\n        <>\n          {sizeKeys.map((key, index) => (\n            <option\n              key={`sizeKey${index}`}\n              value={key}\n              disabled={product.size[0][key] === 0}\n              onClick={(e) => this.selectSize(e)}>\n              {key}\n              &nbsp;&nbsp;&nbsp;&nbsp;\n              {product.size[0][key]} in stock\n            </option>\n          ))}\n        </>\n      );\n    }\n\n    return (\n      <>\n        {product ? (\n          <div className={styles.product}>\n            {showBasketModal && (\n              <div className={styles.basketmodal}>\n                <div className={styles.basket}>\n                  <h2>\n                    {' '}\n                    <i className='fas fa-check'></i>\n                    &nbsp;Added to cart{' '}\n                  </h2>\n                  <button\n                    onClick={() => this.continueShopping()}\n                    className={styles.continueshoppingbtn}>\n                    Continue shopping\n                  </button>\n                  <Link\n                    className={styles.checkoutbtn}\n                    style={{ textDecoration: 'none', color: 'white' }}\n                    to={'/shopping-basket'}>\n                    Checkout now\n                  </Link>\n                </div>\n              </div>\n            )}\n            <p className='{styles.title}'></p>\n            {product.length !== 0 && product.reviews.length !== 0 ? (\n              <Reviews reviews={product.reviews} />\n            ) : null}\n            <h2>\n              <span\n                className={styles.gobackbtn}\n                onClick={() => this.props.history.goBack()}>\n                Go back\n              </span>\n            </h2>\n            <hr></hr>\n            {product.length !== 0 && (\n              <ProductImageCarousel images={product.images} />\n            )}\n            <div className={styles.productinfo}>\n              <div className={styles.column1}>\n                {' '}\n                <p className={styles.price}>£{product.price}</p>\n                {product.colour && <p>colour: {product.colour}</p>}\n                <div>{product.name}</div>\n                <div className={styles.sizecontainer}>\n                  <form\n                    onClick={() =>\n                      this.setState((prevState) => ({\n                        dropdownSelected: !prevState.dropdownSelected,\n                      }))\n                    }>\n                    {this.state.size !== '' ? (\n                      <span>{this.state.size}</span>\n                    ) : (\n                      <span>Please select</span>\n                    )}{' '}\n                    {!this.state.dropdownSelected && (\n                      <span>\n                        <i className='fas fa-arrow-down'></i>\n                      </span>\n                    )}\n                    {this.state.dropdownSelected && dropdown}\n                  </form>\n                </div>\n                <br></br>\n                <div className={styles.quantity}>\n                  <form>Quantity:</form>\n                  <button\n                    className={styles.qtybtn1}\n                    onClick={() => this.selectQuantity('-')}>\n                    -\n                  </button>\n                  <input\n                    onChange={(e) =>\n                      this.setState({ quantity: e.target.value })\n                    }\n                    value={this.state.quantity}\n                    className={styles.quantityinput}\n                    type='input'></input>\n                  <button\n                    className={styles.qtybtn2}\n                    onClick={() => this.selectQuantity('+')}>\n                    +\n                  </button>\n                  <br />\n                  <br />\n                  {product.stock !== 0 ? (\n                    <span style={{ color: 'red' }}>\n                      Hurry only {product.stock} left in stock\n                    </span>\n                  ) : (\n                    <span style={{ color: 'red' }}>Sorry out of stock</span>\n                  )}\n                </div>\n                <button\n                  onClick={() => this.addToBasket()}\n                  className={styles.addtocartbtn}>\n                  {' '}\n                  <i\n                    className='fas fa-shopping-cart'\n                    style={{ width: '1rem', height: '1rem' }}>\n                    {' '}\n                  </i>\n                  &nbsp; &nbsp;Add to Basket\n                </button>\n                {this.state.error && (\n                  <div className={styles.error}>{this.state.error}</div>\n                )}\n              </div>\n              <div className={styles.column2}>\n                <h3>{product.description}</h3>\n              </div>\n            </div>\n          </div>\n        ) : null}\n      </>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    product: state.products.selectedProduct,\n    basket: state.products.basket,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    addProductToBasket: (itemInfo) => dispatch(addToBasket(itemInfo)),\n    getProductFromServer: (id) => dispatch(getProduct(id)),\n    clearProduct: () => dispatch(dispatch(clearSelectedProduct())),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Product);\n"],"sourceRoot":""}