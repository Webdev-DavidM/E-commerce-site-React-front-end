/*! For license information please see 6.746d9898.chunk.js.LICENSE.txt */
(this["webpackJsonpfront-end"]=this["webpackJsonpfront-end"]||[]).push([[6],{109:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"e",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return l})),n.d(t,"a",(function(){return h}));var r=n(6),a=n.n(r),s=n(15),c=n(13),o=n.n(c),i=function(e){var t=e.admin;return console.log(t),function(){var e=Object(s.a)(a.a.mark((function e(n){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n({type:"ORDER_SENT"}),e.prev=1,e.next=4,o()({method:"get",url:"https://my-ecommerce-site-fitness.herokuapp.com/adminuser/allorders",headers:{token:t.token,email:t.email}});case 4:200===(r=e.sent).status&&(console.log(r.data),n({type:"ADMIN_ALL_USER_ORDERS_SUCCESS",orders:r.data})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),e.t0.request&&0===e.t0.request.status&&n({type:"ORDER_FAIL",error:"Network error, please try again"});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},u=function(e){return function(){var t=Object(s.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:"ORDER_SENT"}),t.prev=1,t.next=4,o()({method:"post",url:"https://my-ecommerce-site-fitness.herokuapp.com/orders/new-order",data:{orderInfo:e},headers:{token:e.token}});case 4:201===(r=t.sent).status&&n({type:"ORDER_SUCCESS",products:r.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),t.t0.request&&0===t.t0.request.status&&n({type:"ORDER_FAIL",error:"Network error, please try again"});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},d=function(e){return function(){var t=Object(s.a)(a.a.mark((function t(n){var r,s;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=JSON.parse(localStorage.getItem("userInfo")),n({type:"ORDER_SENT"}),t.prev=2,t.next=5,o()({method:"get",url:"https://my-ecommerce-site-fitness.herokuapp.com/orders/order/".concat(e),headers:{token:r.token,userId:r.id}});case 5:200===(s=t.sent).status&&n({type:"INDIVDUAL_ORDER_SUCCESS",order:s.data}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),n({type:"ORDER_FAIL",error:t.t0.response.data});case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}()},l=function(e){var t=e.token,n=e.user;return function(){var e=Object(s.a)(a.a.mark((function e(r){var s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r({type:"ORDER_SENT"}),e.prev=1,e.next=4,o()({method:"get",url:"https://my-ecommerce-site-fitness.herokuapp.com/orders/".concat(n),headers:{token:t}});case 4:200===(s=e.sent).status&&r({type:"ORDER_LIST_RECEIVED",orders:s.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),r({type:"ORDER_FAIL",error:e.t0});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},h=function(){return{type:"CLOSE_MODAL"}}},138:function(e,t,n){var r;!function(n){"use strict";var a={},s={},c={},o="en",i={MMMM:["January","February","March","April","May","June","July","August","September","October","November","December"],MMM:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dddd:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ddd:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dd:["Su","Mo","Tu","We","Th","Fr","Sa"],A:["AM","PM"]},u={YYYY:function(e){return("000"+e.getFullYear()).slice(-4)},YY:function(e){return("0"+e.getFullYear()).slice(-2)},Y:function(e){return""+e.getFullYear()},MMMM:function(e){return this.res.MMMM[e.getMonth()]},MMM:function(e){return this.res.MMM[e.getMonth()]},MM:function(e){return("0"+(e.getMonth()+1)).slice(-2)},M:function(e){return""+(e.getMonth()+1)},DD:function(e){return("0"+e.getDate()).slice(-2)},D:function(e){return""+e.getDate()},HH:function(e){return("0"+e.getHours()).slice(-2)},H:function(e){return""+e.getHours()},A:function(e){return this.res.A[e.getHours()>11|0]},hh:function(e){return("0"+(e.getHours()%12||12)).slice(-2)},h:function(e){return""+(e.getHours()%12||12)},mm:function(e){return("0"+e.getMinutes()).slice(-2)},m:function(e){return""+e.getMinutes()},ss:function(e){return("0"+e.getSeconds()).slice(-2)},s:function(e){return""+e.getSeconds()},SSS:function(e){return("00"+e.getMilliseconds()).slice(-3)},SS:function(e){return("0"+(e.getMilliseconds()/10|0)).slice(-2)},S:function(e){return""+(e.getMilliseconds()/100|0)},dddd:function(e){return this.res.dddd[e.getDay()]},ddd:function(e){return this.res.ddd[e.getDay()]},dd:function(e){return this.res.dd[e.getDay()]},Z:function(e){return e.utc?"+0000":/[\+-]\d{4}/.exec(e.toTimeString())[0]},post:function(e){return e}},d={YYYY:function(e){return this.exec(/^\d{4}/,e)},Y:function(e){return this.exec(/^\d{1,4}/,e)},MMMM:function(e){var t=this.find(this.res.MMMM,e);return t.value++,t},MMM:function(e){var t=this.find(this.res.MMM,e);return t.value++,t},MM:function(e){return this.exec(/^\d\d/,e)},M:function(e){return this.exec(/^\d\d?/,e)},DD:function(e){return this.exec(/^\d\d/,e)},D:function(e){return this.exec(/^\d\d?/,e)},HH:function(e){return this.exec(/^\d\d/,e)},H:function(e){return this.exec(/^\d\d?/,e)},A:function(e){return this.find(this.res.A,e)},hh:function(e){return this.exec(/^\d\d/,e)},h:function(e){return this.exec(/^\d\d?/,e)},mm:function(e){return this.exec(/^\d\d/,e)},m:function(e){return this.exec(/^\d\d?/,e)},ss:function(e){return this.exec(/^\d\d/,e)},s:function(e){return this.exec(/^\d\d?/,e)},SSS:function(e){return this.exec(/^\d{1,3}/,e)},SS:function(e){var t=this.exec(/^\d\d?/,e);return t.value*=10,t},S:function(e){var t=this.exec(/^\d/,e);return t.value*=100,t},Z:function(e){var t=this.exec(/^[\+-]\d{2}[0-5]\d/,e);return t.value=-60*(t.value/100|0)-t.value%100,t},h12:function(e,t){return(12===e?0:e)+12*t},exec:function(e,t){var n=(e.exec(t)||[""])[0];return{value:0|n,length:n.length}},find:function(e,t){for(var n,r=-1,a=0,s=0,c=e.length;s<c;s++)n=e[s],!t.indexOf(n)&&n.length>a&&(r=s,a=n.length);return{value:r,length:a}},pre:function(e){return e}},l=function(e,t,n){var r=function(e,t,n){var r=function(e){e&&(this.res=e)};(r.prototype=e).constructor=r;var a,s=new r(n);for(var c in t||{})a=t[c],s[c]=a.slice?a.slice():a;return s},a={res:r(t.res,n.res)};a.formatter=r(t.formatter,n.formatter,a.res),a.parser=r(t.parser,n.parser,a.res),s[e]=a};a.compile=function(e){for(var t,n=/\[([^\[\]]|\[[^\[\]]*])*]|([A-Za-z])\2+|\.{3}|./g,r=[e];t=n.exec(e);)r[r.length]=t[0];return r},a.format=function(e,t,n){var r="string"===typeof t?a.compile(t):t,c=a.addMinutes(e,n?e.getTimezoneOffset():0),i=s[o].formatter,u="";c.utc=n||!1;for(var d,l=1,h=r.length;l<h;l++)u+=i[d=r[l]]?i.post(i[d](c,r[0])):d.replace(/\[(.*)]/,"$1");return u},a.preparse=function(e,t){var n="string"===typeof t?a.compile(t):t,r={Y:1970,M:1,D:1,H:0,A:0,h:0,m:0,s:0,S:0,Z:0,_index:0,_length:0,_match:0},c=/\[(.*)]/,i=s[o].parser,u=0;e=i.pre(e);for(var d,l,h=1,p=n.length;h<p;h++)if(i[d=n[h]]){if(!(l=i[d](e.slice(u),n[0])).length)break;u+=l.length,r[d.charAt(0)]=l.value,r._match++}else if(d===e.charAt(u)||" "===d)u++;else{if(!c.test(d)||e.slice(u).indexOf(c.exec(d)[1])){if("..."===d){u=e.length;break}break}u+=d.length-2}return r.H=r.H||i.h12(r.h,r.A),r._index=u,r._length=e.length,r},a.isValid=function(e,t){var n="string"===typeof e?a.preparse(e,t):e,r=[31,28+a.isLeapYear(n.Y)|0,31,30,31,30,31,31,30,31,30,31][n.M-1];return!(n._index<1||n._length<1||n._index-n._length||n._match<1||n.Y<1||n.Y>9999||n.M<1||n.M>12||n.D<1||n.D>r||n.H<0||n.H>23||n.m<0||n.m>59||n.s<0||n.s>59||n.S<0||n.S>999||n.Z<-720||n.Z>840)},a.parse=function(e,t,n){var r=a.preparse(e,t);return a.isValid(r)?(r.M-=r.Y<100?22801:1,n||r.Z?new Date(Date.UTC(r.Y,r.M,r.D,r.H,r.m+r.Z,r.s,r.S)):new Date(r.Y,r.M,r.D,r.H,r.m,r.s,r.S)):new Date(NaN)},a.transform=function(e,t,n,r){return a.format(a.parse(e,t),n,r)},a.addYears=function(e,t){return a.addMonths(e,12*t)},a.addMonths=function(e,t){var n=new Date(e.getTime());return n.setMonth(n.getMonth()+t),n},a.addDays=function(e,t){var n=new Date(e.getTime());return n.setDate(n.getDate()+t),n},a.addHours=function(e,t){return a.addMinutes(e,60*t)},a.addMinutes=function(e,t){return a.addSeconds(e,60*t)},a.addSeconds=function(e,t){return a.addMilliseconds(e,1e3*t)},a.addMilliseconds=function(e,t){return new Date(e.getTime()+t)},a.subtract=function(e,t){var n=e.getTime()-t.getTime();return{toMilliseconds:function(){return n},toSeconds:function(){return n/1e3},toMinutes:function(){return n/6e4},toHours:function(){return n/36e5},toDays:function(){return n/864e5}}},a.isLeapYear=function(e){return!(e%4)&&!!(e%100)||!(e%400)},a.isSameDay=function(e,t){return e.toDateString()===t.toDateString()},a.locale=function(e,t){return t?l(e,{res:i,formatter:u,parser:d},t):"function"===typeof e?o=e(a):e&&(n&&!n.date&&console.warn("This method of changing the locale is deprecated. See documentation for details."),o=e),o},a.extend=function(e){var t=e.extender||{};for(var n in t)a[n]||(a[n]=t[n]);(e.formatter||e.parser||e.res)&&l(o,s[o],e)},a.plugin=function(e,t){"function"===typeof e?a.extend(c[e(a)]):(c[e]=c[e]||t,!t&&c[e]&&(a.extend(c[e]),n&&!n.date&&console.warn("This method of applying plugins is deprecated. See documentation for details.")))},a.locale(o,{}),"object"===typeof e.exports?e.exports=a:void 0===(r=function(){return a}.apply(t,[]))||(e.exports=r)}(this)},139:function(e,t,n){e.exports={checkoutcontainer:"Checkout_checkoutcontainer__REoAB",ordermodal:"Checkout_ordermodal__jUQhl",orderbtn:"Checkout_orderbtn__ua6EP",continueshoppingbtn:"Checkout_continueshoppingbtn__3b7xu",gobackbtn:"Checkout_gobackbtn__2Iz0X",deliveryaddress:"Checkout_deliveryaddress__2PgdP",itemcontainer:"Checkout_itemcontainer__W7T8z",details:"Checkout_details__2EE4Q",imagecontainer:"Checkout_imagecontainer__4V_oq",itemdetails:"Checkout_itemdetails__2Cq9v",paymentimagecontainer:"Checkout_paymentimagecontainer__u2qf-",paymentimage:"Checkout_paymentimage__oAGi8",checkoutimage:"Checkout_checkoutimage__3JD76"}},149:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(17),s=n(18),c=n(20),o=n(19),i=n(1),u=n(12),d=n(7),l=n(11),h=n(138),p=n.n(h),f=n(139),m=n.n(f),g=n(10),b=n(109),j=function(e){Object(c.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).componentDidMount=function(){var t=e.props,n=t.basket,r=t.addBasket;0!==n.length&&(Object.keys(localStorage).map((function(e){return"userInfo"!==e&&localStorage.removeItem("".concat(e))})),n.map((function(e,t){return localStorage.setItem("item".concat(t),JSON.stringify(e))})));var a=Object.keys(localStorage).map((function(e){return JSON.parse(localStorage.getItem("".concat(e)))}));0===n.length&&a&&a.map((function(e){return void 0===e.firstName&&r(e)}))},e.placeOrder=function(){var t=e.props,n=t.userDetails,r=t.basket,a=t.basketTotal,s=t.sendOrder,c=a();c=c.Total;var o=new Date;s({date:p.a.format(o,"YYYY/MM/DD HH:mm:ss"),userId:n.id,orderItems:r,total:c,status:"ordered",token:n.token})},e.closeModal=function(){var t=e.props,n=t.clearBasket,r=t.clearModal;e.props.error||(n(),Object.keys(localStorage).map((function(e){return"userInfo"!==e&&localStorage.removeItem("".concat(e))})),r(),e.props.history.push("/"));r()},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=this.props.userDetails,n=t.firstName,a=t.lastName,s=t.address,c=this.props,o=c.basket,i=(0,c.basketTotal)();return Object(r.jsxs)("div",{className:m.a.checkoutcontainer,children:[this.props.showModal?Object(r.jsx)("div",{className:m.a.ordermodal,children:Object(r.jsxs)("div",{className:m.a.basket,children:[Object(r.jsxs)("h2",{children:[" ",Object(r.jsx)("i",{className:"fas fa-check"}),"\xa0",this.props.error?Object(r.jsx)("span",{children:"Order failed!Please try again"}):Object(r.jsx)("span",{children:"Order confirmed!"})]}),Object(r.jsx)("button",{onClick:function(){return e.closeModal()},className:m.a.continueshoppingbtn,children:this.props.error?Object(r.jsx)("span",{children:"Try again"}):Object(r.jsx)("span",{children:"Continue shopping"})}),Object(r.jsx)(d.b,{className:m.a.checkoutbtn,style:{textDecoration:"none",color:"white"},to:"/orders",children:"View orders"})]})}):null,Object(r.jsx)("h2",{children:Object(r.jsx)("span",{className:m.a.gobackbtn,onClick:function(){return e.props.history.goBack()},children:"Go back"})}),Object(r.jsx)("h2",{children:"Summary"}),Object(r.jsx)("hr",{}),Object(r.jsxs)("div",{className:m.a.deliveryaddress,children:[Object(r.jsx)("h4",{children:"Delivery"}),Object(r.jsxs)("span",{children:[Object(r.jsx)("strong",{children:" Delivering to:"}),"\xa0",s]}),Object(r.jsx)("h4",{children:"Name"}),Object(r.jsxs)("span",{children:[Object(r.jsx)("strong",{children:" Delivering to:"}),"\xa0 ",n," ",a]}),Object(r.jsx)("h4",{children:"Payment method"}),Object(r.jsx)("div",{className:m.a.paymentimagecontainer,children:Object(r.jsx)("a",{href:"https://www.paypal.com/uk/webapps/mpp/paypal-popup",title:"How PayPal Works",onClick:"javascript:window.open('https://www.paypal.com/uk/webapps/mpp/paypal-popup','WIPaypal','toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=yes, resizable=yes, width=1060, height=700'); return false;",children:Object(r.jsx)("img",{className:m.a.paymentimage,src:"https://www.paypalobjects.com/webstatic/mktg/Logo/AM_mc_vs_ms_ae_UK.png",border:"0",alt:"PayPal Acceptance Mark"})})})]}),Object(r.jsx)("div",{className:m.a.paymentmethod}),Object(r.jsx)("div",{className:m.a.ordersummary,children:Object(r.jsxs)("div",{className:m.a.itemcontainer,children:[o.map((function(e,t){return Object(r.jsxs)("div",{className:m.a.details,children:[Object(r.jsx)("div",{className:m.a.imagecontainer,children:Object(r.jsx)("img",{className:m.a.checkoutimage,src:"https://my-ecommerce-site-fitness.herokuapp.com/".concat(e.images[0]),alt:""})}),Object(r.jsxs)("div",{className:m.a.itemdetails,children:[Object(r.jsxs)("div",{style:{width:"40%"},children:[" ",Object(r.jsx)("span",{children:e.name})]}),Object(r.jsxs)("div",{style:{width:"20%"},children:[" ",Object(r.jsxs)("span",{children:["Size:\xa0",e.size]})]}),Object(r.jsxs)("div",{style:{width:"15%"},children:[" ",Object(r.jsxs)("span",{children:["Quantity:\xa0",e.quantity]})]}),Object(r.jsxs)("div",{style:{width:"15%"},children:[" ",Object(r.jsxs)("span",{children:["Price: \xa3",e.price]})]})]})]},t)})),Object(r.jsx)("div",{className:m.a.priceandquanity}),Object(r.jsxs)("h3",{className:m.a.itemcost,children:["Total: \xa3",i.Total]}),Object(r.jsx)("span",{className:m.a.orderbtn,onClick:function(){return e.placeOrder()},children:"Place order"})]})})]})}}]),n}(i.Component);t.default=Object(l.g)(Object(u.b)((function(e){return{userDetails:e.user.user,showModal:e.orders.showOrdersModal,basket:e.products.basket,error:e.orders.errors,basketTotal:function(){var t=0;return 0!==e.products.basket.length&&(t=e.products.basket.map((function(e){return e.price*e.quantity})).reduce((function(e,t){return e+t}))),{Total:t}}}}),(function(e){return{addBasket:function(t){return e(Object(g.a)(t))},sendOrder:function(t){return e(Object(b.e)(t))},clearBasket:function(){return e(Object(g.m)())},clearModal:function(){return e(Object(b.a)())}}}))(j))}}]);
//# sourceMappingURL=6.746d9898.chunk.js.map